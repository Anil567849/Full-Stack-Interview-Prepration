<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />

    <title>Document</title>
  </head>
  <body>
    <div class="box">
      <div class="wave --one"></div>
      <div class="wave --two"></div>
      <div class="wave --three"></div>

      <div id="weatherCon">
      </div>

      <div class="info">
        <h2 class="location">
          <i class="fas fa-street-view" style="color: #fff"></i>
          {%tempLocation%}, {%tempCountry%}
        </h2>
        <p id="date"></p>
        <h1 class="temp">{%tempVal%}&deg; C</h1>
        <h3 class="tempMinMax">Min {%tempMin%}&deg; C | Max {%tempMax%}&deg; C</h3>
      </div>
    </div>

    <script>
            const currDate = document.getElementById("date");
            let weatherCondition = document.getElementById("weatherCon");

            const tempStatus = "{%tempStatus%}";

            console.log(tempStatus);

            if(tempStatus == "Sunny"){
              weatherCondition.innerHTML = "<i class='fas fa-sun' style='color: #eccc68'></i>";
            }else if(tempStatus == "Clouds"){
              weatherCondition.innerHTML = "<i class='fas fa-cloud' style='color: #eccc68'></i>";
            }else if(tempStatus == "Rainy"){
              weatherCondition.innerHTML = "<i class='fas fa-cloud-rain' style='color: #eccc68'></i>";
            }else{
              weatherCondition.innerHTML = "<i class='fas fa-sun' style='color: #eccc68'></i>";
            } 

            const getCurrDay = () => {
              var weekDay = new Array(7);
              weekDay[0] = "Sunday";
              weekDay[1] = "Monday";
              weekDay[2] = "Tuesday";
              weekDay[3] = "Wednesday";
              weekDay[4] = "Thursday";
              weekDay[5] = "Friday";
              weekDay[6] = "Saturday";

              let currTime = new Date();
              return weekDay[currTime.getDay()];
            };

            const getCurrTime = () => {

              const months = [
                "Jan",
                "Feb",
                "Mar",
                "Apr",
                "Mar",
                "June",
                "July",
                "Aug",
                "Sept",
                "Oct",
                "Nov",
                "Dec",
              ];

              var now = new Date();
              var month = months[now.getMonth() + 1];
              var date = now.getDate();



              let hours = now.getHours();
              let mins = now.getMinutes();

              let period = 'AM';

              if(hours > 11){
                  period = 'PM';
                  if(hours > 12){
                      hours -= 12;
                  }
                  if(mins < 10){
                      mins = '0' + mins;
                  }
              }

              return `${month}${date} | ${hours}:${mins}:${period}`;
              
            }

              
              currDate.innerHTML = getCurrDay() + " | " + getCurrTime();

            // getCurrDay();
    </script>
  </body>
</html>
